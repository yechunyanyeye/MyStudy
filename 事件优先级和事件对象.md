### 事件优先级和事件对象

------



假设给一个对象 ,用3种方法添加事件 (`DOM0`  , `DOM2` ,HTML)  那他的优先级是怎么样的了 ?



1. 属性事件 和HTML :

​       `DOM0` > HTML



2. 三种方式都有 :

   设置一个回字形 , 给两个嵌套的DIV绑定事件 .  给` body` 设置点击事件 ,对外层` div` ,内层` div`设置点击事件 . 

   对这3个事件 ,通过事件捕获和事件冒泡 同时设置  ( 现在已经有6个事件了 .)

   使用	`DOM0`再绑定3个事件.   (  9个事件了) .



​	` DOM0`和` DOM2`级的事件 ,只会在事件冒泡的阶段进行.  点击事件发生时 ,从` window`开始传  :

* 给` body`设置的捕获事件.
* 回字形结构的外层`div `上面的捕获事件开始执行 .
* 内层` div`是目标元素 ,执行顺序是当前目标元素绑定的顺序 , 在` js`里面写的顺序.
* 冒泡阶段的外层`div` 上 ,也是取决于书写顺序.
* 冒泡到` body`上 ,按照绑定事件依次执行.





浏览器当中 ,事件的传递和`CSS `有没有关系 ?

没有关系 . 事件传播和HTML的结构来的 . 通过` CSS`把嵌套的内层盒子放到外层盒子外面 , 点击内层盒子 ,外层绑定的事件依然会被触发.



假设页面有` body` ,还有两个回字形的盒子 , 第三个` div`和外层的` div`在HTML是处于同一级的.   使用`CSS` ,把第三个` div`通过绝对定位的方式,放在回字形的里面 ,并对这个盒子定义点击事件 .   点击这个` div`  ,其他盒子事件会被触发吗 ?

不会 !  因为是根据HTML的结构来的 . (例外 :   事件穿透)







#### 事件对象

------



* ` event`   	
  * ` e=e || window.event` 针对不同浏览器的兼容操作 .
* 属性
  * ` bubbles`  表明事件是否冒泡 
  * ` cancelable` 当前时间是否可以取消事件的默认行为 .
  * ` currentTarget` 其事件处理程序当前正在处理事件的那个元素 .
  * ` defaultPrevented` 为true表达已经调用了` preventDefault()` .
  * ` detail` 表示与事件相关的详细信息
  * ` eventPhase` 调用事件处理程序的阶段 :   1.  捕获阶段  2. 处于目标   3. 表示冒泡阶段.
  * ` target` 事件的目标 
  * ` isTrusted` 为true表示事件是浏览器生成的 .
  * ` type` 被触发的事件的类型
  * ` view` 与事件关联的视图 . 等同于发生时间的` window`对象 .
* 方法 
  * ` preventDfault()`  取消事件的默认行为 . 如果` cancelable` 是true ,则可以使用这个方法 .
  * ` stopImmediatePropagation()` 取消事件的进一步捕获或冒泡 ,同时阻止任何事件处理程序被调用 .
  * ` stopPropagation()`  取消事件的进一步捕获或冒泡 , 如果` bubbles`为true , 则可以使用这个方法. 